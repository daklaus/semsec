% Copyright 2012 by INSO - Industrial Software
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.

\ProvidesPackage{beamerthemeINSO}[2012/12/02 v. 0.01]

\PassOptionsToClass{xcolor=table,covered,hyperref={bookmarks}}{beamer}
\DeclareOptionBeamer{compress}{\beamer@compresstrue}
\ProcessOptionsBeamer

\RequirePackage{xparse}
\RequirePackage{iflang}

\newcommand\matrnr[1]{\gdef\insertmatrnr{#1}}
\matrnr{}
\newcommand\advisor[1]{\gdef\insertadvisor{#1}}
\advisor{}

\mode<presentation>
%
\usefonttheme{INSO}
\usecolortheme{INSO}
\useinnertheme{INSO}
\useoutertheme{INSO}
%

% maketitle

\gdef\maketitle{%
	\ifbeamer@inframe%
		\titlepage%
	\else%
		\begin{titleframe}%
			\titlepage%
		\end{titleframe}%
	\fi
}

\newenvironment{titleframe}[1][t]{%
	\setbeamertemplate{footline}[INSOtitle]%
	\begin{frame}[#1]%
		\vspace{-7pt}%
		\begin{beamercolorbox}[wd=\paperwidth,ht=1.7cm,dp=1.7cm]{headline}%
			\usebeamerfont{headline}%
			\pgfuseimage{banner}%
		\end{beamercolorbox}%
}{%
	\end{frame}%
}%

\mode<all>

\endinput
